<%- include("../adminLayouts/header.ejs") %>

    <%- include("../adminLayouts/sidenavbar.ejs") %>
        <main class="main-wrap">
            
            <section class="content-main">
                <div class="content-header">
                    <div>
                        <h2 class="content-title card-title">Orders</h2>

                    </div>
                   
                </div>
                



                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr style="background-color: #306450; color: white;">
                                <th>SL.NO</th>
                                <th>NAME</th>
                                <th>ORDERID</th>
                                <th>TOTAL</th>
                                <th>DATE</th>            
                                <th>ACTION</th>
                            </tr>
                        </thead>
                        <tbody>

                            <% if(ordersData.length > 0){ %>
                                <% ordersData.forEach((order, index)=> { %>


                                    <tr style="color: black;">

                                        <td>
                                            <%= index +1 %>
                                        </td> 
                                        
                                            <% if(order.address[0]){ %>
                                               <td>
                                              
                                              
                                                    <%= order.address[0].name %>
                                                
                                               </td>

                                               <td>
                                                <%= order.orderId %>
                                               </td>

                                               

                                            <% } %>
                                        
                                            <td>
                                                â‚¹ <%= order.totalAmount %>
                                            </td>
                                        

                                        <td>
                                            <%= order.currendDate.toLocaleDateString('en-US', { day: 'numeric' , month: 'short' ,
                                            year: 'numeric' }) %>
                                        </td>

                                        <td>
                                            <a href="/admin/orderDetails?id=<%= order.orderId %>"><button class="btn  p-1" style="border: none; background-color: green ; color: white;">Deatail</button></a>
                                        </td>




                                    </tr>





                                    <% }); %>

                                        <% } %>


                        </tbody>

                    </table>


                </div>







                <ul class="pagination" style="margin-left: 200px; margin-top: 20px;">
                    <% if (currentPage > 1) { %>
                        <li class="page-item">
                            <a class="page-link" href="/admin/orders?page=<%= currentPage - 1 %>" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                    <% } %>
                    <% for (let i = 1; i <= totalPages; i++) { %>
                        <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                            <a class="page-link" href="/admin/orders?page=<%= i %>"><%= i %></a>
                        </li>
                    <% } %>
                    <% if (currentPage < totalPages) { %>
                        <li class="page-item">
                            <a class="page-link" href="/admin/orders?page=<%= currentPage + 1 %>" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    <% } %>
                
                </ul>
            </section>
          
          
        </main>
        <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
        <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
        <script src="assets/js/vendors/select2.min.js"></script>
        <script src="assets/js/vendors/perfect-scrollbar.js"></script>
        <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
        <!-- Main Script -->
        <script src="assets/js/main.js" type="text/javascript"></script>




        <%- include("../adminLayouts/footer.ejs") %>